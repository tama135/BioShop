<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS / ECMA</title>
</head>

<body>

    <script>

        /*     
            1. primer for / var 
        */
        var boje = ['red', 'green', 'blue'];
        for (var i = 0; i < boje.length; i++) {
            console.log(boje[i]);
        }

        boje.forEach(function (boja) {
            console.log(boja);
        })

        console.log('---------- Sledeci primer --------------');

        /* 
            2. primer
        */

        var numbers = [1, 2, 3, 4, 5];
        var sum = 0;
        numbers.forEach(function (number) {
            sum += number;
        })
        sum;
        console.log(sum);
        console.log('---------- Sledeci primer --------------');

        /* 
            3. primer - izmena prethodnog zadatka
        */

        var numbers = [1, 2, 3, 4, 5];
        var sum = 0;

        function adder(number) {
            sum += number;
        }

        numbers.forEach(adder);
        sum;
        console.log(sum);
        console.log('---------- Sledeci primer --------------');

        /* 
            4. primer - push
        */

        var numbers = [1, 2, 3];
        var doubledNumbers = [];

        //pravimo petlju tako da svaki element niza mnozimo sa 2
        for (var i = 0; i < numbers.length; i++) {
            doubledNumbers.push(numbers[i] * 2);
        }
        console.log(numbers);
        console.log(doubledNumbers);
        console.log('---------- Sledeci primer --------------');

        /* 
            5. primer 
    
            forEach helper - map()
            - pravi novi niz
            - prolazi sve članove postojećeg niza pojedninačno
            - ne menja originalni niz
            - ne menja strukturu niza
            - obavezan return
        */

        var doubled = numbers.map(function (number) {
            return number * 2;
        });
        console.log(doubled);
        console.log('---------- Sledeci primer --------------');

        /* 
            6. primer
            map()
        */
        var automobili = [
            { model: 'jugo', cena: 'skup' },
            { model: 'audi', cena: 'jeftin' }
        ];

        var cene = automobili.map(function (automobil) {
            return automobil.cena;
        });

        console.log(cene);
        console.log('---------- Sledeci primer --------------');

        /* 
            7. primer
            filter()
        */

        var proizvodi = [
            { ime: 'lopta', tip: 'sport' },
            { ime: 'film', tip: 'zabava' },
            { ime: 'klikeri', tip: 'sport' },
            { ime: 'muzika', tip: 'zabava' }
        ];

        var filtrirajProizvode = [];

        for (var i = 0; i < proizvodi.length; i++) {
            if (proizvodi[i].tip === 'zabava') {
                filtrirajProizvode.push(proizvodi[i]);
            }
        }
        console.log(filtrirajProizvode);


        //ECMA
        let filtrirani = proizvodi.filter(function (proizvod) {
            return proizvod.tip === 'zabava';
        });
        console.log(filtrirani);
        console.log('---------- Sledeci primer --------------');

        /*
            8. primer
            filter prema ceni i kvalitetu proizvoda
        */

        var proizvodi = [
            { ime: 'lopta', tip: 'sport', cena: 0, kvalitet: 2 },
            { ime: 'film', tip: 'zabava', cena: 10, kvalitet: 25 },
            { ime: 'klikeri', tip: 'sport', cena: 20, kvalitet: 12 },
            { ime: 'muzika', tip: 'zabava', cena: 5, kvalitet: 3 }
        ];

        /* 
        opis zadatka:
            - tip je sport, kvalitet veci od 0, cena manja od 15
            - filter()
            - return
        */

        let filterCenaKvalitet = proizvodi.filter(function (proizvod) {
            return proizvod.tip === 'sport'
                && proizvod.kvalitet > 0
                && proizvod.cena < 15
        });
        console.log(filterCenaKvalitet);
        console.log('---------- Sledeci primer --------------');
        /* 
            9. primer - filter prema ID-ju
        */

        let tema = { id: 2224, naslov: 'sportska vest' };

        let komentari = [
            { temaId: 2224, sadrzaj: 'odlican tekst' },
            { temaId: 1113, sadrzaj: 'los tekst' },
            { temaId: 2224, sadrzaj: 'ok' }
        ];

        function komentariTeme(tema, komentari) {
            return komentari.filter(function (komentar) {
                return komentar.temaId === tema.id;
            });
        }

        let stampajKomentar = komentariTeme(tema, komentari);
        console.log(stampajKomentar);
        console.log('---------- Sledeci primer --------------');

        /* 
        10. primer
            - find()
            - problem:
        */


        let korisnici = [
            { ime: 'Marko', id: 1 },
            { ime: 'Ana' },
            { ime: 'Nikola' },
            { ime: 'Marko' }
        ];

        //vanilajs
        /*  var korisnik;
            for(var i = 0; i<korisnici.length; i++){
                if(korisnici[i].ime === 'Marko'){
                    korisnik = korisnici[i];
                }
            }
    
            let stampajKorisnika = korisnik;
            console.log(stampajKorisnika); */

        let stampajKorisnika = korisnici.find(function (korsnik) {
            return korsnik.ime === 'Marko';
        });

        console.log(stampajKorisnika);
        console.log('---------- Sledeci primer --------------');

        /* 
        11. primer    
        */

        var CPU = [
            { proizvodjac: 'Intel', brzina: 3.1 },
            { proizvodjac: 'AMD', brzina: 1.6 },
            { proizvodjac: 'nVidia', brzina: 2.4 }
        ];

        /* 
        svi procesori mogu da pokrenu racunar = true;
        samo neki procesori mogu da pokrenu racunar = false;
        */
        var sviProc = true;
        var samoNekiProc = false;

        for (var i = 0; i < CPU.length; i++) {
            var proc = CPU[i];

            if (proc.brzina < 2.8) {
                sviProc = false;
            } else {
                samoNekiProc = true;
            }
        }

        console.log(sviProc);
        console.log(samoNekiProc);
        console.log('---------- Sledeci primer --------------');

        /* 
        every() helper 
        - ocekuje true ili false i svi uslovi moraju da budu ispunjeni
        */

        let procesori = CPU.every(function (procesor) {
            return procesor.brzina > 1; //probati vrednosti <1 ili >1, >2, >3
        });

        console.log(procesori);

        /* 
        some() helper
        - samo ukoliko su svi false, vraca false
        - ukoliko je bar jedan uslov true, vratice true
        */

        let procesori2 = CPU.some(function (procesor) {
            return procesor.brzina > 3; //probati vrednosti <1 ili >1, >2, >3, >4
        });

        console.log(procesori2);
        console.log('---------- Sledeci primer --------------');


        /* 
        12. primer
        */

        var imena = [
            "Ana",
            "Marko",
            "Petar"
        ];

        //false
        let stampajImena = imena.every(function (ime) {
            return ime.length > 4
        });
        console.log(stampajImena);

        //rezultat: true
        let stampajImena2 = imena.some(function (ime) {
            return ime.length > 4 //probati >5, <3
        });
        console.log(stampajImena2);
        console.log('---------- Sledeci primer --------------');

        /* 
        13. primer
        - reduce() helper
    
        */

        var nekiBrojevi = [4, 5, 12];
        var zbir = 0;

        for (var i = 0; i < nekiBrojevi.length; i++) {
            zbir += nekiBrojevi[i];
        }

        console.log(zbir);

        //reduce()
        let stampajBrojeve = nekiBrojevi.reduce(function (zbir, broj) {
            return zbir + broj;
        }, 0);

        console.log("reduce: ", stampajBrojeve);
        console.log('---------- Sledeci primer --------------');

        /* 
        14. primer
        reduce()
        */

        var nekeBoje = [
            { boja: 'crvena' },
            { boja: 'plava' },
            { boja: 'zelena' }
        ];

        let b = nekeBoje.reduce(function(noveBoje, nekeBoje){
            
            noveBoje.push(nekeBoje.boja);
            return noveBoje;
        }, [])

        console.log(b);
        console.log('---------- Sledeci primer --------------');


        /* 
        15. primer
        - refactor i template string
        */

        function kojaJeGodina(){
            return `Godina je ${new Date().getFullYear()}`;
        }

        console.log(kojaJeGodina());
        console.log('---------- Sledeci primer --------------');


        /* 
        16. primer
        arrow funkcije
        */

       /*  const saberi = function(a, b) {
            return a + b;
        }

        let sabiranje = saberi (1, 2);
        console.log(sabiranje); */

        //arrow funkcija - klasicno sabiranje

        const saberi = (a, b) => {
            return a + b;
        }

        let sabiranje = saberi (1, 2);
        console.log("arrow 1: ", sabiranje); 

        //scenario, kada imamo vise izraza
        const saberi1 = (a, b) => {
            const suma = a + b; //jedan izraz
            return suma; //drugi izraz
        }
        let sabiranje1 = saberi1 (1, 2);
        console.log("arrow 2: ", sabiranje1); 

        //slucaj kada imamo samo jedan izraz
        const saberi2 = (a, b) => a + b;
        let sabiranje2 = saberi2 (1, 2);
        console.log("arrow 3: ", sabiranje2);

        //u slucaju da imamo argumente
        const dupliraj1 = broj1 => 2 * broj1;
        console.log('ukoliko imamo argumente: ', dupliraj1(8));

        //u slucaju da nemamo argumente
        const dupliraj2 = () => {
            return 2
        }
        console.log('ukoliko nemamo argumente: ', dupliraj2());
        console.log('---------- Sledeci primer --------------');
        /* 
        17. primer
        arrow funkcije 
        - niz brojeva / dupliranje brojeva
        - koristimo helpere
        */

        const brojevi = [1, 2, 3, 4, 5 ,6];
        let duplirani = brojevi.map(function(broj){
            return 2 * broj; 
        })
        console.log(duplirani);

        //arrow
        let duplirani1 = brojevi.map(broj => 2 * broj);
        console.log(duplirani1);
        console.log('---------- Sledeci primer --------------');

        /* 
        18. primer
        - pravimo tim za projekte i prikazujemo clanove tima
        - koristimo helper map()
        - problem
        */

        const timZaProjekte = {
            clanovi: ['Ana', 'Marko'],
            imeTima: 'Tim1',
            funkcionalnostTima: function(){
                return this.clanovi.map(function(clan){
                    return `${clan} je u timu ${this.imeTima}`;
                });
            }
        };
        console.log(timZaProjekte.funkcionalnostTima());



        /* 
        resenje problema
        */

        const timZaProjekte1 = {
            clanovi: ['Ana', 'Marko'],
            imeTima: 'Tim1',
            funkcionalnostTima: function(){
                return this.clanovi.map((clan) => {
                    return `${clan} je u timu ${this.imeTima}`;
                });
            }
        };
        console.log(timZaProjekte1.funkcionalnostTima());

        /*         
        19. primer 
        */











    </script>
</body>

</html>