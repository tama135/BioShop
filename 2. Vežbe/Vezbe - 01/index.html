<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS / ECMA</title>
</head>
<body>
    
    <script>
    
    /*     
        1. primer for / var 
    */
    var boje = ['red','green','blue'];
    for(var i=0; i < boje.length; i++){
        console.log(boje[i]);
    }

    boje.forEach(function(boja){
        console.log(boja);
    })

    console.log('---------- Sledeci primer --------------');

    /* 
        2. primer
    */

    var numbers = [1, 2, 3, 4, 5];
    var sum = 0;
    numbers.forEach(function(number){
        sum += number;
    })
    sum;
    console.log(sum);
    console.log('---------- Sledeci primer --------------');

    /* 
        3. primer - izmena prethodnog zadatka
    */
    
    var numbers = [1, 2, 3, 4, 5];
    var sum = 0; 

    function adder(number){
        sum += number;
    }

    numbers.forEach(adder);
    sum;
    console.log(sum);
    console.log('---------- Sledeci primer --------------');

    /* 
        4. primer - push
    */

    var numbers = [1, 2, 3];
    var doubledNumbers = [];

    //pravimo petlju tako da svaki element niza mnozimo sa 2
    for(var i=0; i < numbers.length; i++) {
        doubledNumbers.push(numbers[i]*2);
    }
    console.log(numbers);
    console.log(doubledNumbers);
    console.log('---------- Sledeci primer --------------');

    /* 
        5. primer 

        forEach helper - map()
        - pravi novi niz
        - prolazi sve članove postojećeg niza pojedninačno
        - ne menja originalni niz
        - ne menja strukturu niza
        - obavezan return
    */

    var doubled = numbers.map(function(number){
        return number * 2;
    });
    console.log(doubled);
    console.log('---------- Sledeci primer --------------');

    /* 
        6. primer
        map()
    */
    var automobili = [
        { model: 'jugo', cena: 'skup' },
        { model: 'audi', cena: 'jeftin' }
    ];

    var cene = automobili.map(function(automobil){
        return automobil.cena;
    });

    console.log(cene);
    console.log('---------- Sledeci primer --------------');

    /* 
        7. primer
        filter()
    */

    var proizvodi = [
        { ime: 'lopta', tip: 'sport'},
        { ime: 'film', tip: 'zabava'},
        { ime: 'klikeri', tip: 'sport'},
        { ime: 'muzika', tip: 'zabava'}
    ];

    var filtrirajProizvode = [];

    for(var i=0; i<proizvodi.length; i++){
        if(proizvodi[i].tip === 'zabava'){
            filtrirajProizvode.push(proizvodi[i]);
        }
    }
    console.log(filtrirajProizvode);
    

    //ECMA
    let filtrirani = proizvodi.filter(function(proizvod){
        return  proizvod.tip === 'zabava';
    });
    console.log(filtrirani);
    console.log('---------- Sledeci primer --------------');

    /*
        8. primer
        filter prema ceni i kvalitetu proizvoda
    */

    var proizvodi = [
        { ime: 'lopta', tip: 'sport', cena: 0, kvalitet: 2},
        { ime: 'film', tip: 'zabava', cena: 10, kvalitet: 25},
        { ime: 'klikeri', tip: 'sport', cena: 20, kvalitet: 12},
        { ime: 'muzika', tip: 'zabava', cena: 5, kvalitet: 3}
    ];

    /* 
    opis zadatka:
        - tip je sport, kvalitet veci od 0, cena manja od 15
        - filter()
        - return
    */

    let filterCenaKvalitet = proizvodi.filter(function(proizvod){
        return proizvod.tip === 'sport'
        && proizvod.kvalitet > 0
        && proizvod.cena < 15
    });
    console.log(filterCenaKvalitet);
    console.log('---------- Sledeci primer --------------');
    /* 
        9. primer - filter prema ID-ju
    */

    let tema = {id: 2224, naslov: 'sportska vest'};

    let komentari = [
        {temaId: 2224, sadrzaj: 'odlican tekst'},
        {temaId: 1113, sadrzaj: 'los tekst'},
        {temaId: 2224, sadrzaj: 'ok'}
    ];

    function komentariTeme(tema, komentari) {
        return komentari.filter(function(komentar){
            return komentar.temaId === tema.id;
        });
    }

    let stampajKomentar = komentariTeme(tema, komentari);
    console.log(stampajKomentar);
    console.log('---------- Sledeci primer --------------');

    /* 
    10. primer
        - find()
        - problem:
    */


    let korisnici = [
        {ime: 'Marko', id: 1},
        {ime: 'Ana'},
        {ime: 'Nikola'},
        {ime: 'Marko'}
    ];

    //vanilajs
    /*  var korisnik;
        for(var i = 0; i<korisnici.length; i++){
            if(korisnici[i].ime === 'Marko'){
                korisnik = korisnici[i];
            }
        }

        let stampajKorisnika = korisnik;
        console.log(stampajKorisnika); */
    
    let stampajKorisnika = korisnici.find(function(korsnik){
        return korsnik.ime === 'Marko';
    });

    console.log(stampajKorisnika);
    
    </script>
</body>
</html>